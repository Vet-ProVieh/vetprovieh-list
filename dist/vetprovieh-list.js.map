{"version":3,"file":"vetprovieh-list.js","sources":["../node_modules/@tomuench/vetprovieh-shared/lib/helpers/object-helper.ts","../node_modules/@tomuench/vetprovieh-shared/lib/helpers/view-helper.ts","../node_modules/@tomuench/vetprovieh-shared/lib/core/vetprovieh-element.ts","../node_modules/@tomuench/vetprovieh-shared/lib/core/vetprovieh-basic-repeat.ts","../node_modules/@tomuench/vetprovieh-shared/lib/decorators/web-component.ts","../node_modules/@tomuench/vetprovieh-shared/lib/orm/baseModel.ts","../node_modules/@tomuench/vetprovieh-shared/lib/orm/baseRepository.ts","../node_modules/@tomuench/vetprovieh-shared/lib/core/vetprovieh-repeat.ts","../node_modules/@tomuench/vetprovieh-shared/lib/elements/table/table.ts","../lib/list-item.ts","../lib/vetprovieh-basic-list.ts","../node_modules/@tomuench/vetprovieh-pager/node_modules/@tomuench/vetprovieh-shared/lib/helpers/object-helper.ts","../node_modules/@tomuench/vetprovieh-pager/node_modules/@tomuench/vetprovieh-shared/lib/helpers/view-helper.ts","../node_modules/@tomuench/vetprovieh-pager/node_modules/@tomuench/vetprovieh-shared/lib/core/vetprovieh-element.ts","../node_modules/@tomuench/vetprovieh-pager/node_modules/@tomuench/vetprovieh-shared/lib/core/vetprovieh-basic-repeat.ts","../node_modules/@tomuench/vetprovieh-pager/node_modules/@tomuench/vetprovieh-shared/lib/decorators/web-component.ts","../node_modules/@tomuench/vetprovieh-pager/node_modules/@tomuench/vetprovieh-shared/lib/core/vetprovieh-repeat.ts","../node_modules/@tomuench/vetprovieh-pager/node_modules/@tomuench/vetprovieh-shared/lib/elements/table/table.ts","../node_modules/@tomuench/vetprovieh-pager/lib/vetprovieh-pager.ts","../lib/vetprovieh-list.ts"],"sourcesContent":["import {Indexable} from '../interfaces/indexable';\n\n/**\n * Helper to get and set Attributes on Objects\n */\nexport class ObjectHelper {\n  /**\n   * Checking if the Element is an Object\n   * @param obj\n   */\n  static isObject(obj: any): boolean {\n    return obj != null && typeof (obj) === 'object';\n  }\n\n  /**\n     * Getting Value from JSON-Object\n     * @param {Indexable} object\n     * @param {string} key\n     * @return {any}\n     */\n  static get(object: Indexable, key: string) : any {\n    try {\n      const attributes: string[] = key.split('.');\n      return this._iterateThrough(object, attributes);\n    } catch (ex) {\n      return undefined;\n    }\n  }\n\n  /**\n     * Iterating Through Object\n     * @param {Indexable} obj\n     * @param {string[]} attributes\n     * @param {number} depth\n     * @return {any}\n     * @private\n     */\n  static _iterateThrough(obj: Indexable, attributes: string[], depth = 0): any {\n    if (depth < 0) return undefined;\n\n    while (attributes.length > depth) {\n      const attribute :string = attributes.shift() as string;\n      if (!obj) throw new Error('Unknown Key');\n      obj = obj[attribute];\n    }\n    return obj;\n  }\n\n  /**\n     * Setting value for Object\n     * @param {Indexable} object\n     * @param {string} key\n     * @param {any} value\n     */\n  static set(object: Indexable, key: string, value: any): void {\n    const attributes: string[] = key.split('.');\n    object = this._iterateThrough(object, attributes, 1);\n    const property = attributes[0];\n    object[property] = value;\n  }\n\n\n  /**\n     * Object to String\n     * @param {Object} obj\n     * @return {string}\n     */\n  static objectToStringDeep(obj: any) : string {\n    if (!obj) return '';\n\n    return Object.keys(obj).map((k: string) => {\n      const value: any = obj[k];\n      if (typeof (value) == 'object') {\n        return ObjectHelper.objectToStringDeep(value);\n      } else {\n        return value;\n      }\n    }).toString();\n  }\n}\n","import {ObjectHelper} from './object-helper';\nimport {Indexable} from '../interfaces/indexable';\n\n/**\n * Helpers for View\n */\nexport class ViewHelper {\n  /**\n     * Mark text yellow inside an element.\n     * @param {Node} element\n     * @param {string} input\n     */\n  static markElement(element: Node | ChildNode, input: string): void {\n    if (input != '') {\n      element.childNodes.forEach((n: Node) => {\n        const value: string = n.nodeValue || '';\n        if (n.nodeName === '#text' && value.indexOf(input) >= 0) {\n          (element as HTMLElement).innerHTML = (n as Indexable)['data']\n              .split(input)\n              .join('<mark>' + input + '</mark>');\n        } else {\n          ViewHelper.markElement(n, input);\n        }\n      });\n    }\n  }\n\n  /**\n   * Getting URL-Parameter from address\n   * @param {string} key\n   * @return {string}\n   */\n  static getParameter(key: string): string | null {\n    const urlString = window.location.href;\n    const url = new URL(urlString);\n    const value = url.searchParams.get(key);\n\n    return value;\n  }\n\n\n  /**\n     * Regex to fill keys in template\n     * @return {RegExp}\n     */\n  static get regexTemplate(): RegExp {\n    return /{{([a-zA-Z0-9\\.]+)}}/;\n  }\n\n  /**\n     * Replacing Placeholders in template from the loaded element\n     * @param {HTMLElement} template\n     * @param {Indexable} e\n     */\n  static replacePlaceholders(template: HTMLElement, e: Indexable): void {\n    let match = null;\n    while (match = template.innerHTML.match(ViewHelper.regexTemplate)) {\n      let value = ObjectHelper.get(e, match[1]);\n      value = value || '';\n      template.innerHTML = template.innerHTML.replace(match[0], value);\n    }\n  }\n}\n","import {Indexable} from '../interfaces';\n\n/**\n * BaseClass for view Elements\n */\nexport class VetproviehElement extends HTMLElement {\n  public get template() {\n    return '';\n  }\n\n\n  constructor(shadowed = true, render=true) {\n    super();\n\n    if (shadowed) {\n      this.attachShadow({\n        mode: 'open',\n      });\n    }\n\n    if(render) this.render();\n  }\n\n  /**\n     * Callback Implementation\n     * @param {string} name\n     * @param {any} old\n     * @param {any} value\n     */\n  attributeChangedCallback(name: string, old: any, value: any) {\n    if (old !== value) {\n      this.sendCallback(`_${name}_beforeSet`, value);\n      (this as Indexable)[name] = value;\n      this.sendCallback(`_${name}_afterSet`, value);\n      this.render();\n    }\n  }\n\n  /**\n   * Connected Callback\n   */\n  connectedCallback(){\n  }\n\n\n  private sendCallback(name: string, value: any) {\n    const method = (this as Indexable)[name] as Function;\n    if (method && typeof(method) === 'function') {\n      (this as Indexable)[name](value);\n    }\n  }\n\n  /**\n   * Loading HTML-Element From ShadowRoot\n   * @param {string} id\n   * @return {HTMLElement | undefined}\n   */\n  getByIdFromShadowRoot(id: string): HTMLElement | undefined {\n    if (this.shadowRoot) {\n      return this.shadowRoot.getElementById(id) as HTMLElement;\n    }\n  }\n\n  render() {\n    const renderedTemplate = eval('`' + this.template + '`') as string;\n    if (this.shadowRoot) {\n      this.shadowRoot.innerHTML = renderedTemplate;\n    } else {\n      this.innerHTML = renderedTemplate;\n    }\n  }\n\n  /**\n     * Hide Or Show Element\n     * @param {string} id\n     * @param {boolean} show\n     */\n  updateVisibility(id: string, show: boolean) {\n    const search = this.getByIdFromShadowRoot(id);\n    if (search) {\n      if (!show) {\n        search.classList.add('is-hidden');\n      } else {\n        search.classList.remove('is-hidden');\n      }\n    }\n  }\n\n  public get innerHTML() {\n    return super.innerHTML;\n  }\n\n  public set innerHTML(input: string) {\n    if (this.shadowRoot != null) {\n      this.shadowRoot.innerHTML = input;\n    } else {\n      super.innerHTML = input;\n    }\n  }\n\n\n  // -----------------\n  // CLASS METHODS\n  // -----------------\n\n  /**\n     * Getting Template\n     * @return {string}\n     */\n  static get template(): string {\n    return `<link href=\"/node_modules/bulma/css/bulma.min.css\" \n                  rel=\"stylesheet\" type=\"text/css\">`;\n  }\n}\n","import { VetproviehElement } from './vetprovieh-element';\nimport { Indexable } from '../interfaces';\nimport { ViewHelper } from '../helpers';\n\n/**\n * Repeats Template Element. Amount is set by the amount of objects\n * inside\n */\n\nexport class VetproviehBasicRepeat extends VetproviehElement {\n\n  /**\n       * Getting observed Attributes\n       * @return {string[]}\n       */\n  static get observedAttributes() {\n    return ['objects', 'orderBy'];\n  }\n\n  private _objects: Array<any> = [];\n  protected _listTemplate: DocumentFragment;\n  private _orderBy = '+position';\n\n  /**\n   * Default-Contructor\n   * @param {HTMLTemplateElement} pListTemplate\n   */\n  constructor(pListTemplate: HTMLTemplateElement | undefined = undefined, shadowed = true) {\n    super(shadowed);\n\n    const listTemplate = pListTemplate || this.querySelector('template');\n    if (listTemplate) {\n      this._listTemplate = listTemplate.content;\n    } else {\n      this._listTemplate = new DocumentFragment();\n    }\n  }\n\n  /**\n   * Set List Template and Render\n   * @param {DocumentFragment} val\n   */\n  public set listTemplate(val: DocumentFragment) {\n    if (this._listTemplate !== val) {\n      this._listTemplate = val;\n      this.clearAndRender();\n    }\n  }\n\n  /**\n   * Get objects\n   * @return {Array<any>}\n   */\n  public get objects(): Array<any> {\n    return this._objects;\n  }\n\n  /**\n   * Set objects\n   * @param {Array<any>} v\n   */\n  public set objects(v: Array<any>) {\n    if (this._objects != v) {\n      this._objects = v;\n      this.clearAndRender();\n    }\n  }\n\n  /**\n  * Get OrderBy\n  * Expect \"+position\" for asceding positon\n  * Expect \"-position\" for descending position\n  * @return {string}\n  */\n  public get orderBy(): string {\n    return this._orderBy;\n  }\n\n  /**\n   * Set OrderBy\n   * @param {string} v\n   */\n  public set orderBy(v: string) {\n    if (this._orderBy != v) {\n      this._orderBy = v;\n      this.clearAndRender();\n    }\n  }\n\n  /**\n  * Connected Callback\n  */\n  connectedCallback() {\n    this._initalizeShadowRoot(VetproviehBasicRepeat.template);\n    this.renderList();\n  }\n\n  /**\n   * Clear and Render\n   */\n  clearAndRender() {\n    this.clear();\n    this._sortObjects();\n    this.renderList();\n  }\n\n  /**\n   * Sorting Objects\n   */\n  private _sortObjects() {\n    try {\n      const asc = this.orderBy.substring(0, 1) == '+' ? 1 : -1;\n      const argument = this.orderBy.substring(1);\n      this.objects = this.objects\n        .sort((a: any, b: any) => {\n          const aValue = a[argument];\n          const bValue = b[argument];\n          return (aValue - bValue) * asc;\n        });\n    } catch (e) {\n\n    }\n  }\n\n  /**\n   * List will be cleared\n   */\n  clear() {\n    const list = this.list;\n    if (list) list.innerHTML = '';\n  }\n\n  /**\n   * Rendering List-Content\n   */\n  renderList() {\n    this.objects\n      .forEach((obj: any, index: number) => {\n        this._attachToList(obj, index);\n      });\n  }\n\n  /**\n   * Inserts Element to List\n   * @param {any} dataItem\n   * @param {index} number\n   * @private\n   */\n  protected _attachToList(dataItem: any, index = 0) {\n    if (this.shadowRoot) {\n      const newListItem: HTMLElement = this._generateListItem(dataItem);\n      if (typeof (dataItem) === \"object\") {\n        dataItem['index'] = index;\n      }\n      ViewHelper.replacePlaceholders(newListItem, dataItem);\n      const list = this.list;\n      if (list && newListItem.children[0]) {\n        list.appendChild(newListItem.children[0]);\n      }\n    }\n  }\n\n\n  /**\n   * Getting List Element\n   * @return {HTMLElement | undefined}\n   */\n  protected get list(): HTMLElement | undefined {\n    if (this.shadowRoot) {\n      return this.shadowRoot.getElementById('listElements') as HTMLElement;\n    } else {\n      return undefined;\n    }\n  }\n\n  /**\n  * Generate new Item for List which is based on the template\n  * @param {any} dataItem\n  * @param {boolean} activatedEventListener\n  * @return {HTMLDivElement}\n  * @private\n  */\n  protected _generateListItem(dataItem: any, activatedEventListener = false) {\n    const newNode = document.importNode(this._listTemplate, true);\n    const div = document.createElement('div');\n\n    if (activatedEventListener) {\n      div.addEventListener('click', () => {\n        const selectedEvent = new Event('selected');\n        (selectedEvent as Indexable)['data'] = dataItem;\n        this.dispatchEvent(selectedEvent);\n      });\n    }\n\n    div.appendChild(newNode);\n    return div;\n  }\n\n  /**\n   * Intializing Shadow-Root\n   * @param {string} template\n   * @protected\n   */\n  protected _initalizeShadowRoot(template: string) {\n    // Lazy creation of shadowRoot.\n    if (!this.shadowRoot) {\n      super.attachShadow({\n        mode: 'open',\n      }).innerHTML = template;\n    }\n  }\n}","import { Indexable } from \"../interfaces\";\n\ninterface IWebComponentArgs {\n  template?: string | undefined;\n  tag: string;\n  extends?: string | undefined;\n}\n\nexport function WebComponent(webComponentArgs: IWebComponentArgs) {\n  /**\n     * Defining Tag for HTML-Component\n     * @param {any} constructor\n     * @param {string} tagName\n     */\n  const defineTag = (constructor: any, tagName: string, extendElement: string | undefined) => {\n    if (!customElements.get(tagName)) {\n      if (extendElement) {\n        customElements.define(tagName, constructor, { extends: extendElement });\n      } else {\n        customElements.define(tagName, constructor);\n      }\n    }\n  };\n\n  return function <T extends { new(...constructorArgs: any[]): void }>(constructorFunction: T) {\n    /**\n         * Building Wrapper Function for new Constructor\n         * @param args\n         */\n    const newConstructorFunction: any = function (...args: any[]) {\n\n      const func: any = function () {\n        return new constructorFunction(...args);\n      };\n      func.prototype = constructorFunction.prototype;\n\n      const result: any = new func();\n      return result;\n    };\n\n    let filter = ['length', 'prototype', 'name'];\n    Object.getOwnPropertyNames(constructorFunction)\n      .filter((key) => !filter.includes(key))\n      .forEach((key) => {\n        newConstructorFunction[key] = (constructorFunction as Indexable)[key];\n      })\n\n    newConstructorFunction[\"observedAttributes\"] = (constructorFunction as Indexable)[\"observedAttributes\"];\n\n    newConstructorFunction.prototype = constructorFunction.prototype;\n\n\n    if (webComponentArgs.template) {\n      Object.defineProperty(newConstructorFunction.prototype, 'template',\n        {\n          get: (): string => webComponentArgs.template || \"\",\n        });\n    }\n    defineTag(constructorFunction, webComponentArgs.tag, webComponentArgs.extends);\n    return newConstructorFunction;\n  };\n}\n","\nexport abstract class BaseModel {\n\n    id: number | undefined;\n\n    /**\n     * Is Model already saved\n     * @return {boolean}\n     */\n    public get persisted() : boolean {\n        return !!this.id && this.id > 0;\n    }\n\n    public static isPersisted(model: BaseModel) : boolean {\n        return !!model.id && model.id > 0;\n    }\n\n    public static get endpoint(): string {\n        let name:string = this.prototype.constructor.name\n        name = name.toLowerCase();\n        return name\n    }\n}","import { IRepository } from \"../interfaces\";\nimport { BaseModel } from \"./baseModel\";\nimport { ObjectHelper } from \"../helpers\";\n\n\nexport abstract class BaseRepository<T extends BaseModel> implements IRepository<T> {\n\n    private _endpoint: string = \"\";\n\n    constructor(endpoint: string) {\n        this._endpoint = BaseRepository._replaceParams(endpoint);\n    }\n\n\n    /**\n     * Get Current Endpoint\n     * @return {string}\n     */\n    public get endpoint() {\n        return this._endpoint\n    }\n\n    /**\n     * Getting All\n     * @returns Promise<T[]>\n     */\n    all(): Promise<T[]> {\n        return fetch(this._endpoint).then((response) => {\n            if(response.status === 404){\n                return [];\n            }\n            return response.json();\n        });\n    }\n\n    /**\n     * Searching for a String\n     * @param {string} search \n     * @returns Promise<T[]>\n     */\n    where(search: string): Promise<T[]> {\n        return this.all()\n            .then((data) => BaseRepository.search(data, search));\n    }\n\n    /**\n     * Suche mit Parametern\n     * @param {{ [Identifier: string]: string }} params \n     * @returns Promise<T[]>\n     */\n    whereByParams(params: { [Identifier: string]: string }){\n        return this.all()\n            .then((data) => BaseRepository.searchByKeys(data, params));\n    }\n\n    /**\n     * Destroy Entity by id\n     * @param {number} id \n     * @return {Promise<boolean>}\n     */\n    destroy(id: number): Promise<boolean> {\n        return new Promise((resolve, reject) => {\n            fetch(this.buildEndpointWithId(id), {\n                method: 'DELETE',\n            }).then((response) => {\n                resolve(response.ok);\n            }).catch((error) => {\n                resolve(false);\n            })\n        })\n    }\n\n    /**\n     * Find a Object by its id\n     * @param {number} id \n     * @return {Promise<T>}\n     */\n    find(id: number): Promise<T> {\n        return fetch(this.buildEndpointWithId(id))\n            .then((response) => {\n                if (response.ok) {\n                    return response.json()\n                } else {\n                    throw Error(response.statusText);\n                }\n            });\n    }\n\n    /**\n     * Update a Entity in Backend\n     * @param {T extends BaseModel} model \n     * @return {Promise<boolean>}\n     */\n    update(model: T): Promise<boolean> {\n        if (BaseModel.isPersisted(model)) {\n            return new Promise((resolve, reject) => {\n                fetch(this.buildEndpointWithId(model.id || 0), {\n                    method: 'Update',\n                    body: JSON.stringify(model)\n                }).then((response) => {\n                    resolve(response.ok);\n                }).catch((response) => {\n                    resolve(false);\n                });\n            });\n        } else {\n            throw new Error(\"Model is not persisted!\");\n        }\n    }\n\n    /**\n     * Create a new Entity in Backend\n     * @param {T extends BaseModel} model \n     * @return {Promise<boolean>}\n     */\n    create(model: T): Promise<boolean> {\n        if (!BaseModel.isPersisted(model)) {\n            return new Promise((resolve, reject) => {\n                fetch(this._endpoint, {\n                    method: 'POST',\n                    body: JSON.stringify(model)\n                }).then((response) => {\n                    resolve(response.ok);\n                }).catch((response) => {\n                    resolve(false);\n                });\n            });\n        } else {\n            throw new Error(\"Model is already persisted!\")\n        }\n    }\n\n    /**\n     * Save automatically decides if a model should be created\n     * or updated. The decision is based on the model id\n     * @param {T extends BaseModel} model \n     * @return {Promise<boolean>}\n     */\n    save(model: T): Promise<boolean> {\n        if (model.persisted) {\n            return this.create(model);\n        } else {\n            return this.update(model);\n        }\n    }\n\n    /**\n     * Build Endpoint relative URL for ID\n     * @param {number} id \n     * @return {string}\n     */\n    private buildEndpointWithId(id: number): string {\n        return `${this._endpoint}/${id}`\n    }\n\n    /**\n      * Search by Value in Array\n      * @param {Array} data\n      * @param {string | undefined} searchValue\n      * @return {Array}\n      */\n    static search(data: Array<any>, searchValue: string | undefined) {\n        if (searchValue) {\n            return data.filter((e) => {\n                return ObjectHelper.objectToStringDeep(e)\n                    .toLowerCase()\n                    .indexOf(searchValue) >= 0;\n            });\n        } else {\n            return data;\n        }\n    }\n\n    /**\n     * Search by a Key-Value Pair in Array\n    * @param {Array} data\n    * @param {{[Identifier: string] : string}} search\n    * @return {Array}\n     */\n    static searchByKeys(data: Array<any>, search: { [Identifier: string]: string }) {\n        if (search) {\n            return data.filter((e) => {\n                return Object.keys(search).map((searchKey) => {\n                    console.log(ObjectHelper.get(e, searchKey));\n                    return ObjectHelper.get(e, searchKey).toString() === search[searchKey];\n                }).reduce((sum, next) => sum && next, true)\n            })\n        } else {\n            return data;\n        }\n    }\n\n    /**\n     * Register a Repository\n     * @param {name \n     * @param clazz \n     */\n    static registerRepositoryByName(name: string, clazz: any) {\n        let _cls = classes as any;\n        _cls[name] = clazz;\n    }\n\n    /**\n     * Getting Repository by name\n     * @param {string} name \n     * @return {BaseRepository<T>}\n     */\n    static getRepositoryByName<T extends BaseModel>(name: string): BaseRepository<T> | undefined {\n        let _cls = classes as any;\n\n        if (!_cls[name]) {\n            return undefined;\n        } else {\n            let RepositoryClass = _cls[name];\n            return new RepositoryClass();\n        }\n    }\n\n    /**\n     * Replacing Values with URL-Params\n     * @param {string} val \n     */\n    private static _replaceParams(val: string) {\n        let newSrc: string = val;\n        let regex = /{{([a-zA-Z0-9]+)}}/;\n        const url = new URL(window.location.href);\n\n        const matches = newSrc.match(regex);\n        if (matches) {\n            matches.shift();\n            matches.forEach((m) => {\n                newSrc = newSrc.replace(\"{{\" + m + \"}}\", url.searchParams.get(m) || \"\");\n            })\n        }\n        return newSrc;\n    }\n}\n\n\n// Cache for classes, who already where looked up\nvar classes = {};","import {VetproviehElement} from './vetprovieh-element';\nimport { WebComponent } from '../decorators';\nimport { VetproviehBasicRepeat } from './vetprovieh-basic-repeat';\n\n/**\n * Repeats Template Element. Amount is set by the amount of objects\n * inside\n */\n\n @WebComponent({\n   template: VetproviehElement.template + `<div id=\"listElements\"></div>`,\n   tag: \"vp-repeat\"\n })\nexport class VetproviehRepeat extends VetproviehBasicRepeat {\n}\n","import { WebComponent } from \"../../decorators\";\nimport { VetproviehBasicRepeat, VetproviehElement } from \"../../core\";\nimport { Indexable } from \"../../interfaces\";\nimport { ViewHelper } from \"../../helpers\";\n\n\n@WebComponent({\n    template: VetproviehElement.template + `\n        <table class=\"table\">\n          <thead>\n          </thead>\n          <tbody id=\"listElements\">\n          </tbody>\n        </table>\n    `,\n    tag: \"vp-table\"\n})\nexport class VetproviehTable extends VetproviehBasicRepeat {\n\n\n    /**\n     * Inserts Element to List\n     * @param {any} dataItem\n     * @param {index} number\n     * @private\n     */\n    protected _attachToList(dataItem: any, index = 0) {\n      if (this.shadowRoot) {\n        const newListItem: HTMLElement = this._generateListItem(dataItem);\n        dataItem['index'] = index;\n        ViewHelper.replacePlaceholders(newListItem, dataItem);\n\n        this._attachParamsToLink(newListItem, dataItem);\n\n        const list = this.list;\n        if (list) {\n          list.appendChild(newListItem.children[0]);\n        }\n      }\n    }\n\n    private _attachParamsToLink(newListItem: HTMLElement,dataItem: any){\n      let a = newListItem.getElementsByTagName(\"a\")[0];\n      if(a){\n        (a as any).params = dataItem;\n      }\n    }\n    \n     /**\n    * Generate new Item for List which is based on the template\n    * @param {any} dataItem\n    * @param {boolean} activatedEventListener\n    * @return {HTMLDivElement}\n    * @private\n    */\n   protected _generateListItem(dataItem: any, activatedEventListener = false) {\n    const newNode = document.importNode(this._listTemplate, true);\n    const div = document.createElement('tbody');\n\n    div.appendChild(newNode);\n\n    return div;\n  }\n}","import { VetproviehList } from \"./vetprovieh-list\";\nimport { WebComponent, ViewHelper, Indexable } from \"@tomuench/vetprovieh-shared/lib\";\n\n\n@WebComponent({\n    template:\"\",\n    tag:\"list-item\"\n})\nexport class ListItem extends HTMLElement {\n\n    private _data: any;\n    private _list: any;\n\n    constructor(list: any, data: any) {\n        super();\n        this._list = list;\n        this._data = data;\n        this._generate();\n    }\n\n    public mark(searchValue: string){\n        if (searchValue) {\n            ViewHelper.markElement(this, searchValue);\n        }\n    }\n\n    private _attachEventListener(event:string){\n        this.addEventListener(event, (event) => {\n            const selectedEvent = new Event('selected');\n            selectedEvent['data'] = this._data;\n            this._list.dispatchEvent(selectedEvent);\n        });\n    }\n\n     /**\n     * Inserts Element to List\n     * @param {object} element\n     * @param {HTMLElement} newListItem\n     * @private\n     */\n    private _attachDataToStoreLocalLink(){\n        const link = this.getElementsByTagName(\"a\")[0] as Indexable;\n        if (link && link.attributes[\"is\"] && link.attributes[\"is\"].value === \"local-store\") {\n            link.params = this._data;\n        }\n    }\n\n    private _generate() {\n        const newNode = document.importNode(this._list.listTemplate, true);\n        this._attachEventListener('click');\n        this.appendChild(newNode);\n        ViewHelper.replacePlaceholders(this, this._data);\n        this._attachDataToStoreLocalLink();\n    }\n}","import { VetproviehPager } from \"@tomuench/vetprovieh-pager/lib\";\nimport { VetproviehElement, IRepository, BaseRepository } from \"@tomuench/vetprovieh-shared/lib/index\";\nimport { ListItem } from \"./list-item\";\n\n/**\n * List Element for Vet:Provieh\n * Reads Data from Webservice an shows it.\n * @property {boolean} searchable\n * @property {boolean} pageable\n * @property {string} src\n */\nexport class VetproviehBasicList extends VetproviehElement {\n\n    /**\n     * Getting observed Attributes\n     * @return {string[]}\n     */\n    static get observedAttributes() {\n        return ['pagesize', 'searchable', 'pageable'];\n    }\n\n    private _pagesize: number = 0;\n    private _searchable: boolean = true;\n    private _pageable: boolean = true;\n    private _page: number = 1;\n    private _maxPage: number = 1;\n    private _listTemplate: DocumentFragment;\n\n    private _objects: any[] = [];\n    private _repository: IRepository<any> | undefined;\n\n    private _urlSearchParams : { [Identifier: string]: string } = {};\n\n    public get repository(){\n        return this._repository;\n    }\n\n    public set repository(val) {\n        if(this._repository != val){\n            this._repository = val;\n            this._filterObjects();\n        }\n    }\n\n    public get objects() {\n        return this._objects;\n    }\n\n    public set urlSearchParams(params: { [Identifier: string]: string }){\n        if(params !== this._urlSearchParams){\n            this._urlSearchParams = params;\n        }\n    }\n\n    /**\n     * Default Constructor\n     * accepts a template as parameter\n     * @param {HTMLTemplateElement} pListTemplate\n     */\n    constructor(pListTemplate: HTMLTemplateElement | undefined = undefined) {\n        super();\n\n        const listTemplate = pListTemplate || this.querySelector('template');\n        this.setlistTemplate(listTemplate);\n    }\n\n    public setlistTemplate(template:HTMLTemplateElement){\n        if (template && this._listTemplate !== template.content) {\n            this._listTemplate = template.content;\n        }\n    }\n\n    /**\n     * Getter searchable\n     * @property {string|null} searchable\n     */\n    get searchable() {\n        return this._searchable;\n    }\n\n    get listTemplate() {\n        return this._listTemplate;\n    }\n\n    /**\n     * Setter Searchable\n     * @param {boolean} val\n     */\n    set searchable(val) {\n        if (val !== this.searchable) {\n            this._searchable = val;\n            super.updateVisibility('searchControl', this.searchable);\n        }\n    }\n\n    /**\n     * Getter Pageable\n     * @property {string|null} pageable\n     */\n    get pageable() {\n        return this._pageable;\n    }\n\n    /**\n     * Setter Pageable\n     * @param {boolean} val\n     */\n    set pageable(val) {\n        if (val !== this.pageable) {\n            this._pageable = val;\n            this._updatePager();\n        }\n    }\n\n    /**\n     * Getter pagesize\n     * @property {int} pagesize\n     * @return {int}\n     */\n    get pagesize() {\n        return this._pagesize;\n    }\n\n\n    /**\n     * Setter Pagesize\n     * @param {int} val\n     */\n    set pagesize(val) {\n        if (val !== this.pagesize) {\n            this._pagesize = val;\n            this._setMaxPage(this._objects.length);\n        }\n    }\n\n    /**\n     * Getter CurrentPage\n     * @property {int} page\n     * @return {int}\n     */\n    get page() {\n        return this._page;\n    }\n\n    /**\n     * Setter CurrentPage\n     * @param {int} val\n     */\n    set page(val) {\n        if (val !== this.page && val <= this.maxPage) {\n            this._page = val;\n            this._updatePager();\n        }\n    }\n\n    /**\n     * Getter MaxPage\n     * @property {int} maxPage\n     * @return {int}\n     */\n    get maxPage() {\n        return this._maxPage;\n    }\n\n\n    /**\n     * Setter MaxPage\n     * @param {int} val\n     */\n    set maxPage(val) {\n        if (val !== this.maxPage) {\n            this._maxPage = val;\n            this._updatePager();\n        }\n    }\n\n    /**\n     * Connected Callback\n     */\n    connectedCallback() {\n        super.connectedCallback();\n        this._addSearchFieldListener();\n        this._filterObjects();\n        this._updatePager();\n        this._addPagerListener();\n    }\n\n    /**\n     * Attach Data to List\n     * @param {Array} data\n     * @param {string} searchValue\n     * @param {boolean} clear\n     */\n    attachData(data, searchValue, clear = false) {\n        if (clear) {\n            this.shadowRoot.getElementById('listElements').innerHTML = '';\n        }\n        data.forEach((element) => this._attachToList(element, searchValue));\n        this._objects = data;\n        this.dispatchEvent(new Event(\"loaded\"));\n    }\n\n    /**\n     * Search for a string\n     * @param {string} searchString\n     */\n    search(searchString: string) {\n        this._filterObjects(searchString);\n    }\n\n    // -----------------\n    // PRIVATE METHODS\n    // -----------------\n\n    /**\n     * Adding PageListener\n     * @private\n     */\n    _addPagerListener() {\n        if (this._pager) {\n            this._pager.addEventListener('change', (event) => {\n                this.page = (event.target as VetproviehPager).page;\n                this._filterObjects();\n            });\n        }\n    }\n\n    /**\n     * Input in search has Changed\n     * @private\n     */\n    _addSearchFieldListener() {\n        if (this.shadowRoot) {\n            let searchTimer;\n            let value = null;\n            const searchField = this.shadowRoot.querySelector('#search');\n            searchField.addEventListener('keyup', (event) => {\n                let target = event.target as HTMLInputElement\n                if (value != target.value) {\n                    clearTimeout(searchTimer);\n                    value = target.value;\n                    searchTimer = setTimeout((_) => {\n                        this.search(value);\n                    }, 300);\n                }\n            });\n            this.updateVisibility('searchControl', this.searchable);\n        }\n    }\n\n    /**\n     * Updating Pager\n     */\n    _updatePager() {\n        if (this.shadowRoot) {\n            this.updateVisibility(this._pager.id, this.pageable);\n            this._pager.page = this.page;\n            this._pager.maximum = this.maxPage;\n        }\n    }\n\n    /**\n     * GET Pager Element\n     * @return {VetproviehPager}\n     * @private\n     */\n    get _pager(): VetproviehPager {\n        return this.shadowRoot.getElementById('pager') as VetproviehPager;\n    }\n\n    /**\n     * Can component fetch new data?\n     * @private\n     */\n    get _readyToFetch() {\n        return this.pagesize && this.repository && this.shadowRoot;\n    }\n\n    /**\n     * Loading Data from Remote-Server\n     * @param {string | undefined} searchValue\n     * @private\n     */\n    _filterObjects(searchValue: string | undefined = undefined) {\n        if (this._readyToFetch) {\n            const self = this;\n            \n            let searchPromise: Promise<any>;\n            if(Object.keys(this._urlSearchParams).length > 0){\n                searchPromise = this.repository.whereByParams(this._urlSearchParams);\n                searchPromise = searchPromise.then((data) => BaseRepository.search(data, searchValue));\n            } else {\n                searchPromise = this.repository.where(searchValue);\n            }\n\n                searchPromise\n                .then((data) => this._sort(data))\n                .then((data) => { self._setMaxPage(data.length); return data })\n                .then((data) => self._filterByPage(data))\n                .then((data) => self.attachData(data, searchValue, true));\n        }\n    }\n\n    /**\n     * Sorting Data. can be overwritten\n     * @param data \n     */\n    protected _sort(data) {\n        return data;\n    }\n\n    /**\n     * Set Max-Page by lenth of data\n     * @param {number} dataLength\n     * @return {boolean}\n     */\n    _setMaxPage(dataLength: number) {\n        this.maxPage = Math.ceil(dataLength / this.pagesize);\n        return true;\n    }\n\n    /**\n     * Inserts Element to List\n     * @param {object} element\n     * @param {string} searchValue\n     * @private\n     */\n    _attachToList(element, searchValue) {\n        if (this.shadowRoot) {\n            const list: HTMLElement | null = this.shadowRoot.getElementById('listElements');\n            if (list) {\n                const newListItem: ListItem = new ListItem(this, element);\n                newListItem.addEventListener(\"selected\",(event) => {\n                    this.dispatchEvent(event);\n                })\n                newListItem.mark(searchValue);\n                list.appendChild(newListItem);\n            }\n        }\n    }\n\n\n\n    /**\n     * Filter Data by Page\n     * @param {Array} data\n     * @param {number} currentPage\n     * @param {number} pageSize\n     * @return {Array}\n     * @private\n     */\n    _filterByPage(data: Array<any>) {\n        return data.slice(\n            (this.page - 1) * this.pagesize,\n            this.page * this.pagesize,\n        );\n    }\n\n    // -----------------\n    // CLASS METHODS\n    // -----------------\n\n\n\n}","import {Indexable} from '../interfaces/indexable';\n\n/**\n * Helper to get and set Attributes on Objects\n */\nexport class ObjectHelper {\n  /**\n   * Checking if the Element is an Object\n   * @param obj\n   */\n  static isObject(obj: any): boolean {\n    return obj != null && typeof (obj) === 'object';\n  }\n\n  /**\n     * Getting Value from JSON-Object\n     * @param {Indexable} object\n     * @param {string} key\n     * @return {any}\n     */\n  static get(object: Indexable, key: string) : any {\n    try {\n      const attributes: string[] = key.split('.');\n      return this._iterateThrough(object, attributes);\n    } catch (ex) {\n      return undefined;\n    }\n  }\n\n  /**\n     * Iterating Through Object\n     * @param {Indexable} obj\n     * @param {string[]} attributes\n     * @param {number} depth\n     * @return {any}\n     * @private\n     */\n  static _iterateThrough(obj: Indexable, attributes: string[], depth = 0): any {\n    if (depth < 0) return undefined;\n\n    while (attributes.length > depth) {\n      const attribute :string = attributes.shift() as string;\n      if (!obj) throw new Error('Unknown Key');\n      obj = obj[attribute];\n    }\n    return obj;\n  }\n\n  /**\n     * Setting value for Object\n     * @param {Indexable} object\n     * @param {string} key\n     * @param {any} value\n     */\n  static set(object: Indexable, key: string, value: any): void {\n    const attributes: string[] = key.split('.');\n    object = this._iterateThrough(object, attributes, 1);\n    const property = attributes[0];\n    object[property] = value;\n  }\n\n\n  /**\n     * Object to String\n     * @param {Object} obj\n     * @return {string}\n     */\n  static objectToStringDeep(obj: any) : string {\n    if (!obj) return '';\n\n    return Object.keys(obj).map((k: string) => {\n      const value: any = obj[k];\n      if (typeof (value) == 'object') {\n        return ObjectHelper.objectToStringDeep(value);\n      } else {\n        return value;\n      }\n    }).toString();\n  }\n}\n","import {ObjectHelper} from './object-helper';\nimport {Indexable} from '../interfaces/indexable';\n\n/**\n * Helpers for View\n */\nexport class ViewHelper {\n  /**\n     * Mark text yellow inside an element.\n     * @param {Node} element\n     * @param {string} input\n     */\n  static markElement(element: Node | ChildNode, input: string): void {\n    if (input != '') {\n      element.childNodes.forEach((n: Node) => {\n        const value: string = n.nodeValue || '';\n        if (n.nodeName === '#text' && value.indexOf(input) >= 0) {\n          (element as HTMLElement).innerHTML = (n as Indexable)['data']\n              .split(input)\n              .join('<mark>' + input + '</mark>');\n        } else {\n          ViewHelper.markElement(n, input);\n        }\n      });\n    }\n  }\n\n  /**\n   * Getting URL-Parameter from address\n   * @param {string} key\n   * @return {string}\n   */\n  static getParameter(key: string): string | null {\n    const urlString = window.location.href;\n    const url = new URL(urlString);\n    const value = url.searchParams.get(key);\n\n    return value;\n  }\n\n\n  /**\n     * Regex to fill keys in template\n     * @return {RegExp}\n     */\n  static get regexTemplate(): RegExp {\n    return /{{([a-zA-Z0-9\\.]+)}}/;\n  }\n\n  /**\n     * Replacing Placeholders in template from the loaded element\n     * @param {HTMLElement} template\n     * @param {Indexable} e\n     */\n  static replacePlaceholders(template: HTMLElement, e: Indexable): void {\n    let match = null;\n    while (match = template.innerHTML.match(ViewHelper.regexTemplate)) {\n      let value = ObjectHelper.get(e, match[1]);\n      value = value || '';\n      template.innerHTML = template.innerHTML.replace(match[0], value);\n    }\n  }\n}\n","import {Indexable} from '../interfaces';\n\n/**\n * BaseClass for view Elements\n */\nexport class VetproviehElement extends HTMLElement {\n  public get template() {\n    return '';\n  }\n\n\n  constructor(shadowed = true, render=true) {\n    super();\n\n    if (shadowed) {\n      this.attachShadow({\n        mode: 'open',\n      });\n    }\n\n    if(render) this.render();\n  }\n\n  /**\n     * Callback Implementation\n     * @param {string} name\n     * @param {any} old\n     * @param {any} value\n     */\n  attributeChangedCallback(name: string, old: any, value: any) {\n    if (old !== value) {\n      this.sendCallback(`_${name}_beforeSet`, value);\n      (this as Indexable)[name] = value;\n      this.sendCallback(`_${name}_afterSet`, value);\n      this.render();\n    }\n  }\n\n  /**\n   * Connected Callback\n   */\n  connectedCallback(){\n  }\n\n\n  private sendCallback(name: string, value: any) {\n    const method = (this as Indexable)[name] as Function;\n    if (method && typeof(method) === 'function') {\n      (this as Indexable)[name](value);\n    }\n  }\n\n  /**\n   * Loading HTML-Element From ShadowRoot\n   * @param {string} id\n   * @return {HTMLElement | undefined}\n   */\n  getByIdFromShadowRoot(id: string): HTMLElement | undefined {\n    if (this.shadowRoot) {\n      return this.shadowRoot.getElementById(id) as HTMLElement;\n    }\n  }\n\n  render() {\n    const renderedTemplate = eval('`' + this.template + '`') as string;\n    if (this.shadowRoot) {\n      this.shadowRoot.innerHTML = renderedTemplate;\n    } else {\n      this.innerHTML = renderedTemplate;\n    }\n  }\n\n  /**\n     * Hide Or Show Element\n     * @param {string} id\n     * @param {boolean} show\n     */\n  updateVisibility(id: string, show: boolean) {\n    const search = this.getByIdFromShadowRoot(id);\n    if (search) {\n      if (!show) {\n        search.classList.add('is-hidden');\n      } else {\n        search.classList.remove('is-hidden');\n      }\n    }\n  }\n\n  public get innerHTML() {\n    return super.innerHTML;\n  }\n\n  public set innerHTML(input: string) {\n    if (this.shadowRoot != null) {\n      this.shadowRoot.innerHTML = input;\n    } else {\n      super.innerHTML = input;\n    }\n  }\n\n\n  // -----------------\n  // CLASS METHODS\n  // -----------------\n\n  /**\n     * Getting Template\n     * @return {string}\n     */\n  static get template(): string {\n    return `<link href=\"/node_modules/bulma/css/bulma.min.css\" \n                  rel=\"stylesheet\" type=\"text/css\">`;\n  }\n}\n","import { VetproviehElement } from './vetprovieh-element';\nimport { Indexable } from '../interfaces';\nimport { ViewHelper } from '../helpers';\n\n/**\n * Repeats Template Element. Amount is set by the amount of objects\n * inside\n */\n\nexport class VetproviehBasicRepeat extends VetproviehElement {\n\n  /**\n       * Getting observed Attributes\n       * @return {string[]}\n       */\n  static get observedAttributes() {\n    return ['objects', 'orderBy'];\n  }\n\n  private _objects: Array<any> = [];\n  protected _listTemplate: DocumentFragment;\n  private _orderBy = '+position';\n\n  /**\n   * Default-Contructor\n   * @param {HTMLTemplateElement} pListTemplate\n   */\n  constructor(pListTemplate: HTMLTemplateElement | undefined = undefined, shadowed = true) {\n    super(shadowed);\n\n    const listTemplate = pListTemplate || this.querySelector('template');\n    if (listTemplate) {\n      this._listTemplate = listTemplate.content;\n    } else {\n      this._listTemplate = new DocumentFragment();\n    }\n  }\n\n  /**\n   * Set List Template and Render\n   * @param {DocumentFragment} val\n   */\n  public set listTemplate(val: DocumentFragment) {\n    if (this._listTemplate !== val) {\n      this._listTemplate = val;\n      this.clearAndRender();\n    }\n  }\n\n  /**\n   * Get objects\n   * @return {Array<any>}\n   */\n  public get objects(): Array<any> {\n    return this._objects;\n  }\n\n  /**\n   * Set objects\n   * @param {Array<any>} v\n   */\n  public set objects(v: Array<any>) {\n    if (this._objects != v) {\n      this._objects = v;\n      this.clearAndRender();\n    }\n  }\n\n  /**\n  * Get OrderBy\n  * Expect \"+position\" for asceding positon\n  * Expect \"-position\" for descending position\n  * @return {string}\n  */\n  public get orderBy(): string {\n    return this._orderBy;\n  }\n\n  /**\n   * Set OrderBy\n   * @param {string} v\n   */\n  public set orderBy(v: string) {\n    if (this._orderBy != v) {\n      this._orderBy = v;\n      this.clearAndRender();\n    }\n  }\n\n  /**\n  * Connected Callback\n  */\n  connectedCallback() {\n    this._initalizeShadowRoot(VetproviehBasicRepeat.template);\n    this.renderList();\n  }\n\n  /**\n   * Clear and Render\n   */\n  clearAndRender() {\n    this.clear();\n    this._sortObjects();\n    this.renderList();\n  }\n\n  /**\n   * Sorting Objects\n   */\n  private _sortObjects() {\n    try {\n      const asc = this.orderBy.substring(0, 1) == '+' ? 1 : -1;\n      const argument = this.orderBy.substring(1);\n      this.objects = this.objects\n        .sort((a: any, b: any) => {\n          const aValue = a[argument];\n          const bValue = b[argument];\n          return (aValue - bValue) * asc;\n        });\n    } catch (e) {\n\n    }\n  }\n\n  /**\n   * List will be cleared\n   */\n  clear() {\n    const list = this.list;\n    if (list) list.innerHTML = '';\n  }\n\n  /**\n   * Rendering List-Content\n   */\n  renderList() {\n    this.objects\n      .forEach((obj: any, index: number) => {\n        this._attachToList(obj, index);\n      });\n  }\n\n  /**\n   * Inserts Element to List\n   * @param {any} dataItem\n   * @param {index} number\n   * @private\n   */\n  protected _attachToList(dataItem: any, index = 0) {\n    if (this.shadowRoot) {\n      const newListItem: HTMLElement = this._generateListItem(dataItem);\n      if (typeof (dataItem) === \"object\") {\n        dataItem['index'] = index;\n      }\n      ViewHelper.replacePlaceholders(newListItem, dataItem);\n      const list = this.list;\n      if (list && newListItem.children[0]) {\n        list.appendChild(newListItem.children[0]);\n      }\n    }\n  }\n\n\n  /**\n   * Getting List Element\n   * @return {HTMLElement | undefined}\n   */\n  protected get list(): HTMLElement | undefined {\n    if (this.shadowRoot) {\n      return this.shadowRoot.getElementById('listElements') as HTMLElement;\n    } else {\n      return undefined;\n    }\n  }\n\n  /**\n  * Generate new Item for List which is based on the template\n  * @param {any} dataItem\n  * @param {boolean} activatedEventListener\n  * @return {HTMLDivElement}\n  * @private\n  */\n  protected _generateListItem(dataItem: any, activatedEventListener = false) {\n    const newNode = document.importNode(this._listTemplate, true);\n    const div = document.createElement('div');\n\n    if (activatedEventListener) {\n      div.addEventListener('click', () => {\n        const selectedEvent = new Event('selected');\n        (selectedEvent as Indexable)['data'] = dataItem;\n        this.dispatchEvent(selectedEvent);\n      });\n    }\n\n    div.appendChild(newNode);\n    return div;\n  }\n\n  /**\n   * Intializing Shadow-Root\n   * @param {string} template\n   * @protected\n   */\n  protected _initalizeShadowRoot(template: string) {\n    // Lazy creation of shadowRoot.\n    if (!this.shadowRoot) {\n      super.attachShadow({\n        mode: 'open',\n      }).innerHTML = template;\n    }\n  }\n}","import { Indexable } from \"../interfaces\";\n\ninterface IWebComponentArgs {\n  template?: string | undefined;\n  tag: string;\n  extends?: string | undefined;\n}\n\nexport function WebComponent(webComponentArgs: IWebComponentArgs) {\n  /**\n     * Defining Tag for HTML-Component\n     * @param {any} constructor\n     * @param {string} tagName\n     */\n  const defineTag = (constructor: any, tagName: string, extendElement: string | undefined) => {\n    if (!customElements.get(tagName)) {\n      if (extendElement) {\n        customElements.define(tagName, constructor, { extends: extendElement });\n      } else {\n        customElements.define(tagName, constructor);\n      }\n    }\n  };\n\n  return function <T extends { new(...constructorArgs: any[]): void }>(constructorFunction: T) {\n    /**\n         * Building Wrapper Function for new Constructor\n         * @param args\n         */\n    const newConstructorFunction: any = function (...args: any[]) {\n\n      const func: any = function () {\n        return new constructorFunction(...args);\n      };\n      func.prototype = constructorFunction.prototype;\n\n      const result: any = new func();\n      return result;\n    };\n\n    let filter = ['length', 'prototype', 'name'];\n    Object.getOwnPropertyNames(constructorFunction)\n      .filter((key) => !filter.includes(key))\n      .forEach((key) => {\n        newConstructorFunction[key] = (constructorFunction as Indexable)[key];\n      })\n\n    newConstructorFunction[\"observedAttributes\"] = (constructorFunction as Indexable)[\"observedAttributes\"];\n\n    newConstructorFunction.prototype = constructorFunction.prototype;\n\n\n    if (webComponentArgs.template) {\n      Object.defineProperty(newConstructorFunction.prototype, 'template',\n        {\n          get: (): string => webComponentArgs.template || \"\",\n        });\n    }\n    defineTag(constructorFunction, webComponentArgs.tag, webComponentArgs.extends);\n    return newConstructorFunction;\n  };\n}\n","import {VetproviehElement} from './vetprovieh-element';\nimport { WebComponent } from '../decorators';\nimport { VetproviehBasicRepeat } from './vetprovieh-basic-repeat';\n\n/**\n * Repeats Template Element. Amount is set by the amount of objects\n * inside\n */\n\n @WebComponent({\n   template: VetproviehElement.template + `<div id=\"listElements\"></div>`,\n   tag: \"vp-repeat\"\n })\nexport class VetproviehRepeat extends VetproviehBasicRepeat {\n}\n","import { WebComponent } from \"../../decorators\";\nimport { VetproviehBasicRepeat, VetproviehElement } from \"../../core\";\nimport { Indexable } from \"../../interfaces\";\nimport { ViewHelper } from \"../../helpers\";\n\n\n@WebComponent({\n    template: VetproviehElement.template + `\n        <table class=\"table\">\n          <thead>\n          </thead>\n          <tbody id=\"listElements\">\n          </tbody>\n        </table>\n    `,\n    tag: \"vp-table\"\n})\nexport class VetproviehTable extends VetproviehBasicRepeat {\n\n\n    /**\n     * Inserts Element to List\n     * @param {any} dataItem\n     * @param {index} number\n     * @private\n     */\n    protected _attachToList(dataItem: any, index = 0) {\n      if (this.shadowRoot) {\n        const newListItem: HTMLElement = this._generateListItem(dataItem);\n        dataItem['index'] = index;\n        ViewHelper.replacePlaceholders(newListItem, dataItem);\n\n        this._attachParamsToLink(newListItem, dataItem);\n\n        const list = this.list;\n        if (list) {\n          list.appendChild(newListItem.children[0]);\n        }\n      }\n    }\n\n    private _attachParamsToLink(newListItem: HTMLElement,dataItem: any){\n      let a = newListItem.getElementsByTagName(\"a\")[0];\n      if(a){\n        (a as any).params = dataItem;\n      }\n    }\n    \n     /**\n    * Generate new Item for List which is based on the template\n    * @param {any} dataItem\n    * @param {boolean} activatedEventListener\n    * @return {HTMLDivElement}\n    * @private\n    */\n   protected _generateListItem(dataItem: any, activatedEventListener = false) {\n    const newNode = document.importNode(this._listTemplate, true);\n    const div = document.createElement('tbody');\n\n    div.appendChild(newNode);\n\n    return div;\n  }\n}","import {VetproviehElement, WebComponent} from '@tomuench/vetprovieh-shared/lib/index';\n\n/**\n * Paging Class\n */\n@WebComponent({\n  template: VetproviehElement.template + `\n  <style>\n    :host {\n      display: block;\n    }\n  </style>\n  <nav class=\"pagination is-centered is-small\" role=\"navigation\" \n       aria-label=\"pagination\">\n    <ul id=\"pager\" class=\"pagination-list\">\n    </ul>\n  </nav>`,\n  tag: 'vetprovieh-pager'\n})\nexport class VetproviehPager extends VetproviehElement {\n    private _page = 1;\n    private _maximum = 1;\n\n    /**\n     * Observed Attributes\n     * @return {Array<string>}\n     */\n    static get observedAttributes() {\n      return ['page', 'maximum'];\n    }\n\n    static hello(): string {\n      return \"HELLO\";\n    }\n    \n\n    /**\n     * Page Getter\n     * @property {number|null} page\n     */\n    get page() {\n      return this._page;\n    }\n\n    /**\n     * Setting page\n     * @param {number} val\n     */\n    set page(val: number) {\n      if (typeof(val) === 'string') val = parseInt(val);\n      if (val !== this.page && val <= this.maximum && val > 0) {\n        this._page = val;\n        this.render();\n      }\n    }\n\n\n    /**\n     * @property {number|null} maximum\n     */\n    get maximum() {\n      return this._maximum;\n    }\n\n    /**\n     * Setting Maximum\n     * @param {number} val\n     */\n    set maximum(val: number) {\n      if (val !== this.maximum && val !== undefined) {\n        this._maximum = val;\n        this.render();\n      }\n    }\n\n    /**\n     * Render Pages for Pager\n     * @private\n     */\n    renderPages() {\n      const pager = this.getByIdFromShadowRoot('pager') as HTMLElement;\n      pager.appendChild(this.renderPage(1));\n      this._addBlankPage(pager, this.page > 3);\n\n      for (let i = -1; i < 2; i++) {\n        const toDisplayPage = this.page + i;\n        if (toDisplayPage > 1 && toDisplayPage < this.maximum) {\n          pager.appendChild(this.renderPage(toDisplayPage));\n        }\n      }\n\n      this._addBlankPage(pager, this.page < this.maximum - 2);\n      if (this.maximum != 1 && this.maximum) {\n        pager.appendChild(this.renderPage(this.maximum));\n      }\n    }\n\n    /**\n     * render Page placeholder\n     * @param {HTMLElement} pager\n     * @param {boolean} show\n     * @private\n     */\n    _addBlankPage(pager: HTMLElement, show: boolean) {\n      if (show) {\n        const li = document.createElement('li');\n        const span = document.createElement('span');\n        span.classList.add('pagination-ellipsis');\n        span.innerHTML = '&hellip;';\n        li.appendChild(span);\n        pager.appendChild(li);\n      }\n    }\n\n    /**\n     * Render Single page Button\n     * @param {number} page\n     * @return {HTMLLIElement} Element\n     * @private\n     */\n    renderPage(page: number): HTMLLIElement {\n      const li = document.createElement('li');\n      const a = document.createElement('a');\n      a.classList.add('pagination-link');\n      if (page === this.page) {\n        a.classList.add('is-current');\n      }\n\n      a.onclick = (event) => this._pageClickedEvent(this, event);\n\n      a.title = 'Open Page #' + this.page;\n      const linkText = document.createTextNode(page.toString());\n      a.appendChild(linkText);\n      li.appendChild(a);\n\n      return li;\n    }\n\n    /**\n     * Page-Button has been clicked\n     * @param {VetproviehPager} pager\n     * @param {Event} event\n     * @private\n     */\n    _pageClickedEvent(pager: VetproviehPager, event: Event) {\n      pager.page = parseInt((event.target as HTMLLIElement).innerText);\n      pager.dispatchEvent(new Event('change'));\n    }\n\n    /**\n     * Connected Callback\n     */\n    connectedCallback() {\n      // Lazy creation of shadowRoot.\n      if (!this.shadowRoot) {\n        this.attachShadow({\n          mode: 'open',\n        }).innerHTML = this.template;\n      }\n      this.render();\n    }\n\n    /**\n     * @private\n     */\n    render() {\n      if (this.shadowRoot) {\n        super.render();\n        const pager = this.getByIdFromShadowRoot('pager') as HTMLElement;\n        pager.innerHTML = '';\n        this.renderPages();\n      }\n    }\n}","import { VetproviehElement, WebComponent } from \"@tomuench/vetprovieh-shared/lib/index\";\nimport { VetproviehBasicList } from \"./vetprovieh-basic-list\";\n\nexport { VetproviehPager } from \"@tomuench/vetprovieh-pager/lib\";\n/**\n * List Element for Vet:Provieh\n * Reads Data from Webservice an shows it.\n * @property {boolean} searchable\n * @property {boolean} pageable\n * @property {string} src\n */\n@WebComponent({\n    template: VetproviehElement.template + `<style>\n                :host {\n                    display: block;\n                }\n                #listElements div{\n                    cursor: pointer;\n                }\n                #listElements div:hover {\n                    background-color: #F0F0F0 !important;\n                }\n                </style>\n            \n                <!-- SearchControl on Top -->\n                <div id=\"searchControl\" class=\"control\">\n                <input id=\"search\" class=\"input\" type=\"text\" \n                        placeholder=\"Bitte Suchbegriff eingeben\">\n                </div>\n            \n                <!-- Listing Elements here -->\n                <div id=\"listElements\" style=\"margin-top:20px;\">\n            \n                </div>\n                <!-- Pager for Paging through List-->\n                <vetprovieh-pager id=\"pager\" page=\"1\" maximum=\"7\">\n                </vetprovieh-pager>`,\n    tag: \"vetprovieh-list\"\n})\nexport class VetproviehList extends VetproviehBasicList {\n  \n}\n"],"names":["ObjectHelper","ViewHelper","VetproviehElement","VetproviehBasicRepeat","WebComponent"],"mappings":"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"}